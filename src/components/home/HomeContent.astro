---
import BlogCard from "../blog/BlogCard.astro";
import IntroduceCard from "../blog/IntroduceCard.astro";
import type { Post } from "../blog/BlogCard.astro";
const allPosts = await Astro.glob("/src/pages/posts/*.md");
const sortedPosts = allPosts.sort((a, b) =>
    b.frontmatter.date.localeCompare(a.frontmatter.date),
);
---

<div class="container">
    <div class="introduce-card-container">
        <IntroduceCard />
    </div>
    <div class="blog-card-container">
        {sortedPosts.map((post) => <BlogCard post={{
            title: post.frontmatter.title,
            description: post.frontmatter.description,
            pubDate: new Date(post.frontmatter.pubDate),
            heroImage: post.frontmatter.heroImage,
            tags: post.frontmatter.tags,
            category: post.frontmatter.category,
            route: post.url
            }} />)}
    </div>
</div>

<style>
    .container {
        display: flex;
        padding: 20px 0;
        justify-content: center;
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .blog-card-container {
        display: flex;
        flex-direction: column;
        gap: 30px;
    }
</style>
